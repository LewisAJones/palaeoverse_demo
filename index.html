<!DOCTYPE html>
<html lang="en"><head>
<script src="palaeoverse_demo_files/libs/clipboard/clipboard.min.js"></script>
<script src="palaeoverse_demo_files/libs/quarto-html/tabby.min.js"></script>
<script src="palaeoverse_demo_files/libs/quarto-html/popper.min.js"></script>
<script src="palaeoverse_demo_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="palaeoverse_demo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="palaeoverse_demo_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="palaeoverse_demo_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="palaeoverse_demo_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.340">

  <title>Into the palaeoverse</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="palaeoverse_demo_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="palaeoverse_demo_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="palaeoverse_demo_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="palaeoverse_demo_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="palaeoverse_demo_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="palaeoverse_demo_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="palaeoverse_demo_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title"><p>Into the palaeoverse</p></h1>
  <p class="subtitle"></p><p>A community-driven R package</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/logo.png" height="150"></p>
</figure>
</div><p></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
 
</div>
</div>
</div>

</section>
<section id="development-team" class="slide level2 smaller">
<h2>Development team</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><a href="mailto:LewisAlan.Jones@uvigo.es">Lewis A. Jones</a>, Universidade de Vigo</li>
<li><a href="mailto:willgearty@gmail.com">William Gearty</a>, American Museum of Natural History</li>
<li><a href="mailto:Bethany.Allen@bsse.ethz.ch">Bethany J. Allen</a>, ETH Z√ºrich</li>
<li><a href="mailto:kilian.eichenseer@gmail.com">Kilian Eichenseer</a>, Durham University</li>
<li><a href="christopherdaviddean@gmail.com">Christopher D. Dean</a>, University College London</li>
<li><a href="mailto:sofia.galvan@uvigo.es">Sof√≠a Galv√°n</a>, Universidade de Vigo</li>
<li><a href="mailto:kouvari.miranta@gmail.com">Miranta Kouvari</a>, University College London/Natural History Museum</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><a href="mailto:pedrolorenagodoy@gmail.com">Pedro L. Godoy</a>, University of S√£o Paulo/Stony Brook University</li>
<li><a href="cecily.nicholl@ucl.ac.uk">Cecily Nicholl</a>, University College London</li>
<li><a href="mailto:lucas.buffan@ens-lyon.fr">Lucas Buffan</a>, √âcole Normale Sup√©rieure de Lyon</li>
<li><a href="mailto:erinmdillon@ucsb.edu">Erin M. Dillon</a>, Smithsonian Tropical Research Institute/University of California</li>
<li><a href="mailto:a.chiarenza15@gmail.com">Alfio A. Chiarenza</a>, Universidade de Vigo</li>
</ul>
</div>
</div>
<aside class="notes">
<p>Before I jump into the presentation, I wanted to first note that the development of the palaeoverse R package was by no means a solo-effort. All of these fantastic people had a hand in getting it together.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="funders" class="slide level2 smaller">
<h2>Funders</h2>
<ul>
<li>European Union‚Äôs Horizon 2020 research and innovation program (MAPAS project)
<ul>
<li>Grant number: 947921</li>
</ul></li>
<li>The Royal Society
<ul>
<li>Grant numbers: RF_ERE_210013, RGF_R1_180020, and RGF_EA_180318</li>
</ul></li>
<li>Juan de la Cierva-formaci√≥n fellowship
<ul>
<li>FJC2020-044836-I / MCIN /AEI / 10.13039 /501100011033</li>
</ul></li>
<li>ETH+ Research Grant (BECCY project)</li>
<li>FAPESP Postdoctoral fellowship
<ul>
<li>Grant number: 2022/05697-9</li>
</ul></li>
<li>Population Biology Program of Excellence Postdoctoral Fellowship (the University of Nebraska-Lincoln)</li>
<li>Lerner-Gray Postdoctoral Research Fellowship (American Museum of Natural History)</li>
</ul>
<aside class="notes">
<p>I would also like to say thank you to all our funding bodies which supported our contributions during the development of the package.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="introduction" class="title-slide slide level1 smaller center">
<h1>Introduction</h1>
<p><em>The long and the short of it</em> üìè<em>‚Ä¶</em></p>
</section>
<section id="what-is-palaeoverse" class="slide level2">
<h2>What is Palaeoverse?</h2>
<p><br></p>
<p><br></p>
<center>
<p><em>Palaeoverse is a project that aims to <strong>bring the palaeobiology community together.</strong></em></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/hands.png" height="150"></p>
</figure>
</div>
</center>
<aside class="notes">
<p>So, what exactly is palaeoverse? Well, the palaeoverse project aims to bring the palaeobiology community together through various means. The overall intention is to encourage the field to work more closely together rather than in competition. We believe this to be a critical step in improving research as a working environment, but also for the progress of the field.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-is-the-palaeoverse-r-package" class="slide level2 smaller">
<h2>What is the palaeoverse R package?</h2>
<center>
<p><img data-src="images/claddis.jpeg" data-fig-align="center" height="200"> <img data-src="images/divdyn.png" data-fig-align="center" height="200"></p>
<p><strong>palaeoverse</strong> provides auxiliary functions to support data preparation and exploration.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/logo.png" height="200"></p>
</figure>
</div>
<p><em>Improve code readability, reusability and reproducibility.</em></p>
</center>
<aside class="notes">
<p>One such effort on this front is the palaeoverse R package.</p>
<p>R and R packages are an integral part of quantitative research in palaeobiology today, with R code frequently used for data cleaning, analyses and data visualisation. In palaeobiology, these tools are frequently borrowed or repurposed from ecology (e.g.&nbsp;vegan and iNEXT). While packages exist to support fossil data analyses (e.g.&nbsp;claddis and divDyn), there is a lack of packages to support fossil data preparation or exploration. This results in the community often producing their own custom scripts.</p>
<p>The palaeoverse package provides auxiliary functions to support data preparation and exploration, with the intention of improving code readability, reusability and reproducibility.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-makes-palaeoverse-different" class="slide level2 smaller">
<h2>What makes palaeoverse different?</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/another-r-package.jpg" height="500"></p>
</figure>
</div>
<aside class="notes">
<p>So, just another R package?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-makes-palaeoverse-different-1" class="slide level2 smaller">
<h2>What makes palaeoverse different?</h2>
<ul>
<li><strong>Community-informed development</strong>
<ul>
<li>Authors (<em>n</em> = 13)</li>
<li>Survey participants (<em>n</em> = 35)</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><strong>Well-documented &amp; peer-reviewed code</strong>
<ul>
<li>Formal review process</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><strong>A community-driven package</strong>
<ul>
<li><a href="http://palaeoverse.palaeoverse.org" class="uri">http://palaeoverse.palaeoverse.org</a> <img data-src="images/chris-pratt.jpg" class="absolute" style="top: 80px; right: 30px; width: 480px; height: 300px; "></li>
</ul></li>
</ul>
</div>
<aside class="notes">
<p>Not quite, the idea behind palaeoverse is a little different.</p>
<p>For the development of the package, we formulated a large working group, and conducted an online survey, to combine our experience and perspectives with that of the community to deduce what tools were needed.</p>
<p>As part of the development of the package, we also established a formal review process for both code and documentation.</p>
<p>Finally, palaeoverse is envisioned as a community package. While the initial package has been released by development team, we hope that over time, we will gain contributions from the community to broaden functionality. To support this goal, we have established several resources including a guide to contribution over at our website.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="functionality" class="title-slide slide level1 center">
<h1>Functionality</h1>
<p><em>A whistle-stop tour of palaeoverse</em> üöã<em>‚Ä¶</em></p>
</section>
<section id="whats-available" class="slide level2 smaller">
<h2>What‚Äôs available?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>axis_geo</code></li>
<li><code>bin_lat</code></li>
<li><code>bin_time</code></li>
<li><code>data</code></li>
<li><code>group_apply</code></li>
<li><code>lat_bins</code></li>
<li><code>look_up</code></li>
<li><code>palaeorotate</code></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><code>phylo_check</code></li>
<li><code>tax_check</code></li>
<li><code>tax_expand_lat</code></li>
<li><code>tax_expand_time</code></li>
<li><code>tax_range_space</code></li>
<li><code>tax_range_time</code></li>
<li><code>tax_unique</code></li>
<li><code>time_bins</code></li>
</ul>
</div>
</div>
<aside class="notes">
<p>Currently, 15 different functions are available in palaeoverse, plus some example and reference datasets.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="expected-input" class="slide level2 smaller">
<h2>Expected input</h2>
<p>A lot of data, a lot of sources, and a lot of unique features.</p>
<p><img data-src="images/gbdb.png" class="absolute" style="top: 150px; left: 0px; width: 150px; height: 150px; "> <img data-src="images/pbdb.png" class="absolute" style="top: 150px; left: 200px; width: 150px; height: 150px; "> <img data-src="images/pared.png" class="absolute" style="top: 150px; left: 400px; width: 220px; height: 150px; "> <img data-src="images/neotoma.png" class="absolute" style="top: 150px; left: 630px; width: 200px; height: 150px; "> <img data-src="images/neptune.png" class="absolute" style="top: 150px; left: 850px; width: 200px; height: 150px; "></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<center>
<p><strong>Data structure, not source.</strong></p>
<p><code>occdf</code> <span class="math inline">\(\rightarrow\)</span> <code>function(x)</code> <span class="math inline">\(\rightarrow\)</span> <code>df</code></p>
<p>Occurrence dataframe*</p>
</center>

<aside class="notes">
<p>Functionality in palaeoverse was developed to be flexible and to work around the principle that most user‚Äôs data would be stored in an occurrence dataframe. That is, each row represents a unique occurrence and each column represents a unique variable. The reason for focusing on data structure is that many different databases exist, each with their own list of variables and quirks. We wanted to provide a package that could be used with data from many sources, not just popular databases, such as the PBDB.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>*Exceptions do exist.</p>
</div></aside></section></section>
<section>
<section id="getting-started" class="title-slide slide level1 center">
<h1>Getting started</h1>
<p><em>Let‚Äôs dive in ü§ø‚Ä¶</em></p>
<aside class="notes">
<p>As I‚Äôve got limited time, I‚Äôll now give you a brief overview of all the functionality available in palaeoverse. I‚Äôll be happy to answer any questions at the end you might have, and I should note that we have extensive documentation available for each function covering the specifics of each.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="installation" class="slide level2 smaller">
<h2>Installation</h2>
<div class="fragment">
<p><strong>palaeoverse</strong> can be installed from the CRAN using:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">install.packages</span>(<span class="st">"palaeoverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<div class="fragment">
<p>The development version can be installed using devtools:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"palaeoverse-community/palaeoverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<div class="fragment">
<p>Once installed, load the package in the usual manner:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(palaeoverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<aside class="notes">
<p>I am pleased to say that since Monday, palaeoverse has been available on CRAN and can be installed using the default install.packages function. The development version can be installed using the devtools (or remotes) package. Once installed, the package can be loaded in the usual manner.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="example-datasets" class="slide level2 smaller">
<h2>Example datasets</h2>
<p>Two example occurrence datasets are available.</p>
<p>Carboniferous‚ÄìEarly Triassic tetrapods (<em>n</em> = 5270, <a href="https://paleobiodb.org/#/">Paleobiology Database</a>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Get details on dataset</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>?tetrapods</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># Load dataset</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">data</span>(<span class="st">"tetrapods"</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># Available variables</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="fu">colnames</span>(tetrapods)</span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="do">##  [1] "occurrence_no"     "collection_no"     "identified_name"  </span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="do">##  [4] "identified_rank"   "accepted_name"     "accepted_rank"    </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="do">##  [7] "early_interval"    "late_interval"     "max_ma"           </span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="do">## [10] "min_ma"            "phylum"            "class"            </span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="do">## [13] "order"             "family"            "genus"            </span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="do">## [16] "abund_value"       "abund_unit"        "lng"              </span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="do">## [19] "lat"               "collection_name"   "cc"               </span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="do">## [22] "formation"         "stratgroup"        "member"           </span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="do">## [25] "zone"              "lithology1"        "environment"      </span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="do">## [28] "pres_mode"         "taxon_environment" "motility"         </span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="do">## [31] "life_habit"        "diet"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Phanerozoic reef occurrences (<em>n</em> = 4363, <a href="https://www.paleo-reefs.pal.uni-erlangen.de">PaleoReefs Database</a>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Get details on dataset</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>?reefs</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co"># Load dataset</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="fu">data</span>(<span class="st">"reefs"</span>)</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># Available variables</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="fu">colnames</span>(reefs)</span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="do">##  [1] "r_number"   "name"       "formation"  "system"     "series"    </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="do">##  [6] "interval"   "biota_main" "biota_sec"  "lng"        "lat"       </span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="do">## [11] "country"    "authors"    "title"      "year"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<aside class="notes">
<p>Two example occurrence datasets are available in palaeoverse to provide reproducible examples in the function documentation. The first provides a dataset of Carboniferous-Early Triassic Tetrapods from the Paleobiology Database. The second provides a dataset of Phanerozoic reef occurrences from the Paleoreefs Database. Note that both datasets have different variables available, but are still based around the structure of an occurrence dataframe.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reference-datasets" class="slide level2 smaller">
<h2>Reference datasets</h2>
<p>Two reference datasets are available.</p>
<p>Geological Time Scale 2012 &amp; 2020 (Gradstein et al.&nbsp;2012; 2020).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Get details on dataset</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>?GTS2012</span>
<span id="cb6-3"><a href="#cb6-3"></a>?GTS2020</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># Load dataset</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="fu">data</span>(<span class="st">"GTS2012"</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="fu">data</span>(<span class="st">"GTS2020"</span>)</span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co"># Increase output width</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">120</span>)</span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co"># Print first few rows</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="fu">head</span>(GTS2012, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="do">##   interval_number      interval_name  rank max_ma mid_ma min_ma duration_myr  font  colour abbr</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="do">## 1               1           Holocene stage 0.0117 0.0059 0.0000       0.0117 black #FDEDEC &lt;NA&gt;</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="do">## 2               2  Upper Pleistocene stage 0.1260 0.0688 0.0117       0.1143 black #FFF2D3 &lt;NA&gt;</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="do">## 3               3 Middle Pleistocene stage 0.7810 0.4535 0.1260       0.6550 black #FFF2C7 &lt;NA&gt;</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="fu">head</span>(GTS2020, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="do">##   interval_number interval_name  rank max_ma  mid_ma min_ma duration_myr  font  colour abbr</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="do">## 1               1    Meghalayan stage 0.0042 0.00210 0.0000       0.0042 black #FDEDEC &lt;NA&gt;</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="do">## 2               2 Northgrippian stage 0.0082 0.00620 0.0042       0.0040 black #FDECE4 &lt;NA&gt;</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="do">## 3               3  Greenlandian stage 0.0117 0.00995 0.0082       0.0035 black #FEECDB &lt;NA&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>Two reference datasets are also made available to the user in palaeoverse. These are the Geological Time Scales 2012 &amp; 2020 which are frequently used in research studies and by online databases. In palaeoverse, they are also used in several functions, which we will get on to now.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="stratigraphic-time-bins" class="slide level2 smaller">
<h2>Stratigraphic time bins</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Get stage-level time bins</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>bins <span class="ot">&lt;-</span> <span class="fu">time_bins</span>(<span class="at">interval =</span> <span class="st">"Phanerozoic"</span>, <span class="at">rank =</span> <span class="st">"stage"</span>, <span class="at">plot =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-7-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Get first few rows</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">head</span>(bins, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="do">##   bin interval_name  rank max_ma mid_ma min_ma duration_myr abbr  colour  font</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="do">## 1   1     Fortunian stage    541  535.0    529           12   Fo #99B575 black</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="do">## 2   2       Stage 2 stage    529  525.0    521            8   S2 #A6BA80 black</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="do">## 3   3       Stage 3 stage    521  517.5    514            7   S3 #A6C583 black</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>First up, we have the time bins function, which can be used to extract time bins based on the Geological Time Scale. The user can request different ranks of intervals such as stage, period, epoch, etc. The user can also call intervals based on interval names or an age range and plot the time bins if desired.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="macrostrat-time-bins" class="slide level2 smaller">
<h2>Macrostrat time bins</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Get North American Land Mammal Ages</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>bins <span class="ot">&lt;-</span> <span class="fu">time_bins</span>(<span class="at">scale =</span> <span class="st">"North American Land Mammal Ages"</span>, <span class="at">plot =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-9-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Get first few rows</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">head</span>(bins, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="do">##   bin interval_name                            rank max_ma mid_ma min_ma duration_myr abbr  colour  font</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="do">## 1   1       Puercan North American Land Mammal Ages  66.00 65.375  64.75         1.25    P #FDB469 black</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="do">## 2   2   Torrejonian North American Land Mammal Ages  64.75 63.500  62.25         2.50   To #FEBA64 black</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="do">## 3   3     Tiffanian North American Land Mammal Ages  62.25 59.875  57.50         4.75   Ti #FEBF6A black</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>First up, we have the time bins function, which can be used to extract time bins based on the Geological Time Scale. The user can request different ranks of intervals such as stage, period, epoch, etc. The user can also call intervals based on interval names or an age range and plot the time bins if desired.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="near-equal-length-time-bins" class="slide level2 smaller">
<h2>Near-equal-length time bins</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Get stage-level time bins</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>bins <span class="ot">&lt;-</span> <span class="fu">time_bins</span>(<span class="at">interval =</span> <span class="st">"Phanerozoic"</span>, <span class="at">rank =</span> <span class="st">"stage"</span>, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">plot =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-11-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Get first few rows</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">head</span>(bins, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="do">##   bin max_ma mid_ma min_ma duration_myr grouping_rank                 intervals  colour  font</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="do">## 1   1    541 535.00  529.0         12.0         stage                 Fortunian #80cdc1 black</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="do">## 2   2    529 521.50  514.0         15.0         stage          Stage 3, Stage 2 #80cdc1 black</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="do">## 3   3    514 507.25  500.5         13.5         stage Drumian, Wuliuan, Stage 4 #80cdc1 black</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>In the previous slide, you probably noticed from the plot that stratigraphic time bins can be extremely uneven in duration. Previous studies have tried to circumvent this by grouping stages together towards a target bin size to try and even out temporal duration for conducting analyses. palaeoverse provides an implementation of this that can be defined by the size argument.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="temporal-occurrence-binning" class="slide level2 smaller">
<h2>Temporal occurrence binning</h2>
<p>Five temporal binning methods for age range data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Use tetrapod example data</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>occdf <span class="ot">&lt;-</span> tetrapods</span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co"># Get stage-level time bins</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>bins <span class="ot">&lt;-</span> <span class="fu">time_bins</span>(<span class="at">interval =</span> <span class="st">"Phanerozoic"</span>, <span class="at">rank =</span> <span class="st">"stage"</span>)</span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co"># Assign via midpoint age of fossil occurrence data</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">bin_time</span>(<span class="at">occdf =</span> occdf, <span class="at">bins =</span> bins, <span class="at">method =</span> <span class="st">"mid"</span>)</span>
<span id="cb13-9"><a href="#cb13-9"></a></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co"># Assign to all bins that age range covers</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>ex2 <span class="ot">&lt;-</span> <span class="fu">bin_time</span>(<span class="at">occdf =</span> occdf, <span class="at">bins =</span> bins, <span class="at">method =</span> <span class="st">"all"</span>)</span>
<span id="cb13-12"><a href="#cb13-12"></a></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co"># Assign via majority overlap based on fossil occurrence age range</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>ex3 <span class="ot">&lt;-</span> <span class="fu">bin_time</span>(<span class="at">occdf =</span> occdf, <span class="at">bins =</span> bins, <span class="at">method =</span> <span class="st">"majority"</span>)</span>
<span id="cb13-15"><a href="#cb13-15"></a></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="co"># Randomly assign to overlapping bins based on fossil occurrence age range</span></span>
<span id="cb13-17"><a href="#cb13-17"></a>ex4 <span class="ot">&lt;-</span> <span class="fu">bin_time</span>(<span class="at">occdf =</span> occdf, <span class="at">bins =</span> bins, <span class="at">method =</span> <span class="st">"random"</span>, <span class="at">reps =</span> <span class="dv">10</span>)</span>
<span id="cb13-18"><a href="#cb13-18"></a></span>
<span id="cb13-19"><a href="#cb13-19"></a><span class="co"># Randomly assign point estimates (e.g. uniform distribution) based on fossil occurrence age range</span></span>
<span id="cb13-20"><a href="#cb13-20"></a>ex5 <span class="ot">&lt;-</span> <span class="fu">bin_time</span>(<span class="at">occdf =</span> occdf, <span class="at">bins =</span> bins, <span class="at">method =</span> <span class="st">"point"</span>, <span class="at">reps =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>Fossil occurrences are usually provided with an age range (a minimum and maximum possible age), which is used to bin occurrences into time bins. palaeoverse provides functionality for five of the most common methods in the literature.</p>
<p>The first method uses the midpoint age of the fossil occurrence to bin the occurrence.</p>
<p>The second method bins the occurrence into every bin the age range covers.</p>
<p>The third method bins the occurrence into the bin the majority of the age range covers.</p>
<p>The fourth method bins the occurrence randomly into bins the age range overlaps with.</p>
<p>The fifth method assigns a point age estimates to the occurrence, which is sampled from a uniform distribution defined by the occurrence age range, and bins the occurrence.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="latitudinal-occurrence-binning" class="slide level2 smaller">
<h2>Latitudinal occurrence binning</h2>
<p>Generate and bin latitudinal data:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Generate latitudinal bins</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>bins <span class="ot">&lt;-</span> <span class="fu">lat_bins</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">plot =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-14-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Use reef example data</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>occdf <span class="ot">&lt;-</span> reefs</span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co"># Bin occurrences</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>occdf <span class="ot">&lt;-</span> <span class="fu">bin_lat</span>(<span class="at">occdf =</span> occdf, <span class="at">bins =</span> bins, <span class="at">lat =</span> <span class="st">"lat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>As a community, we are often interested in latitudinal analyses, such as studying the latitudinal biodiversity gradient. palaeoverse provides functionality for generating latitudinal bins of a given size, and binning those occurrences into the respective bins.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="spatial-occurrence-binning" class="slide level2 smaller">
<h2>Spatial occurrence binning</h2>
<p>Generate and bin spatial data:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Get reef data</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>occdf <span class="ot">&lt;-</span> reefs[<span class="dv">1</span><span class="sc">:</span><span class="dv">500</span>, ]</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># Bin data using a hexagonal equal-area grid</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>occdf <span class="ot">&lt;-</span> <span class="fu">bin_space</span>(<span class="at">occdf =</span> occdf, <span class="at">spacing =</span> <span class="dv">250</span>, <span class="at">return =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># Plot world and grid using ggplot2</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb16-8"><a href="#cb16-8"></a>world <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"small"</span>,<span class="at">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> world, <span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightgrey"</span>) <span class="sc">+</span> </span>
<span id="cb16-11"><a href="#cb16-11"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> occdf<span class="sc">$</span>grid, <span class="at">fill =</span> <span class="st">"orange"</span>, <span class="at">colour =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb16-12"><a href="#cb16-12"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-16-1.png" style="width:65.0%" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Functionality is also provided to bin data spatially using a geospatial indexing system that partitions the world into equal-area hexagonal grid cells based on a given spacing between cells.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="palaeogeographic-reconstruction" class="slide level2 smaller">
<h2>Palaeogeographic reconstruction</h2>
<p>Palaeorotate fossil occurrences (eight models available):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Example with a few occurrences</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>occdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">lng =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="sc">-</span><span class="dv">103</span>, <span class="sc">-</span><span class="dv">66</span>),</span>
<span id="cb17-3"><a href="#cb17-3"></a>                    <span class="at">lat =</span> <span class="fu">c</span>(<span class="dv">46</span>, <span class="dv">35</span>, <span class="sc">-</span><span class="dv">7</span>),</span>
<span id="cb17-4"><a href="#cb17-4"></a>                    <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">88</span>, <span class="dv">125</span>, <span class="dv">200</span>))</span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co"># Estimate palaeocoordinates using the GPlates API</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">palaeorotate</span>(<span class="at">occdf =</span> occdf, <span class="at">method =</span> <span class="st">"point"</span>)</span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="co"># Estimate palaeocoordinates using reconstruction files</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>ex2 <span class="ot">&lt;-</span> <span class="fu">palaeorotate</span>(<span class="at">occdf =</span> occdf, <span class="at">method =</span> <span class="st">"grid"</span>)</span>
<span id="cb17-11"><a href="#cb17-11"></a></span>
<span id="cb17-12"><a href="#cb17-12"></a><span class="co"># Estimate palaeocoordinates and uncertainty using reconstruction files</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>ex3 <span class="ot">&lt;-</span> <span class="fu">palaeorotate</span>(<span class="at">occdf =</span> occdf, <span class="at">method =</span> <span class="st">"grid"</span>, <span class="at">uncertainty =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="co"># Increase output width</span></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">400</span>)</span>
<span id="cb17-17"><a href="#cb17-17"></a><span class="co"># Get first few rows</span></span>
<span id="cb17-18"><a href="#cb17-18"></a><span class="fu">head</span>(ex3)</span>
<span id="cb17-19"><a href="#cb17-19"></a><span class="do">##    lng lat age   rot_model rot_age rot_lng rot_lat    p_lng    p_lat</span></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="do">## 1    2  46  88 MERDITH2021      88    1.80   46.42  13.0134  37.6406</span></span>
<span id="cb17-21"><a href="#cb17-21"></a><span class="do">## 2 -103  35 125 MERDITH2021     127 -102.61   34.63 -41.8928  35.0437</span></span>
<span id="cb17-22"><a href="#cb17-22"></a><span class="do">## 3  -66  -7 200 MERDITH2021     200  -65.52   -6.95 -22.5209 -16.7714</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>In order to study the past distribution of taxa, the palaeogeographic position of fossil occurrences need to be reconstructed using plate rotation models. The palaeorotate function provides two methods to reconstruct palaeocoordinates for fossil occurrences. The first method, ‚Äúpoint‚Äù, uses the GPlates Web Service, which estimates palaeocoordinates for point data, with eight different models available. The second method, ‚Äúgrid‚Äù, uses pre-generated reconstruction files of a 1¬∞ x 1¬∞ grid to estimate palaeocoordinates. This approach is much faster than the point method for large datasets, and also allows easy exploration. Additional functionality for the second method allows the user to calculate the palaeogeographic uncertainty in reconstructions from across the eight available models with the palaeolatitudinal range and maximum circle distance between points calculated.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="taxonomic-spell-check" class="slide level2 smaller">
<h2>Taxonomic spell check</h2>
<p>Identify and count potential spelling variations of the same taxon:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># load occurrence data</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">data</span>(<span class="st">"tetrapods"</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co"># Check taxon names alphabetically</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">tax_check</span>(<span class="at">taxdf =</span> tetrapods, <span class="at">name =</span> <span class="st">"genus"</span>, <span class="at">dis =</span> <span class="fl">0.05</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co"># Get first few rows</span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="fu">head</span>(ex1)</span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="do">##   group     greater     lesser count_greater count_lesser</span></span>
<span id="cb18-8"><a href="#cb18-8"></a><span class="do">## 1     D Dvinosaurus Dinosaurus            23            2</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="do">## 2     V   Varanopus   Varanops             5            3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Check taxon names by group</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>ex2 <span class="ot">&lt;-</span> <span class="fu">tax_check</span>(<span class="at">taxdf =</span> tetrapods, <span class="at">name =</span> <span class="st">"genus"</span>, <span class="at">group =</span> <span class="st">"family"</span>, <span class="at">dis =</span> <span class="fl">0.05</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co"># Get first few rows</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="fu">head</span>(ex2)</span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="do">## NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In this example dataset:</p>
<ul>
<li>Dinosaurus belongs to the Phthinosuchidae</li>
<li>Dvinosaurus belongs to the Dvinosauridae</li>
<li>Varanops belongs to the Varanopidae</li>
<li>Varanopus belongs to the Captorhinidae</li>
</ul>
<aside class="notes">
<p>When working with large occurrence datasets, errors can easily creep into data. One frequently encountered issue is spelling variations of the same taxon name. This can have undesirable consequences when calculating metrics such as taxonomic richness. The tax check function computes character string distances between taxonomic names and returns those under a user-defined dissimilarity threshold. The function can also be used within groups such as here with family. As you can see this might be appropriate in some instances. While flagged taxonomic names can be similar in spelling, taxa can belong to different families.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="unique-taxa" class="slide level2 smaller">
<h2>Unique taxa</h2>
<p>Identifying unique taxa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Create dataframe</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>occdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">species =</span> <span class="fu">c</span>(<span class="st">"rex"</span>, <span class="st">"aegyptiacus"</span>, <span class="cn">NA</span>),</span>
<span id="cb20-3"><a href="#cb20-3"></a>                    <span class="at">genus =</span> <span class="fu">c</span>(<span class="st">"Tyrannosaurus"</span>, <span class="st">"Spinosaurus"</span>, <span class="cn">NA</span>),</span>
<span id="cb20-4"><a href="#cb20-4"></a>                    <span class="at">family =</span> <span class="fu">c</span>(<span class="st">"Tyrannosauridae"</span>, <span class="st">"Spinosauridae"</span>, <span class="st">"Diplodocidae"</span>))</span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="co"># Retain unique taxa</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>dinosaur_species <span class="ot">&lt;-</span> <span class="fu">tax_unique</span>(<span class="at">occdf =</span> occdf,</span>
<span id="cb20-7"><a href="#cb20-7"></a>                               <span class="at">species =</span> <span class="st">"species"</span>,</span>
<span id="cb20-8"><a href="#cb20-8"></a>                               <span class="at">genus =</span> <span class="st">"genus"</span>,</span>
<span id="cb20-9"><a href="#cb20-9"></a>                               <span class="at">family =</span> <span class="st">"family"</span>,</span>
<span id="cb20-10"><a href="#cb20-10"></a>                               <span class="at">resolution =</span> <span class="st">"species"</span>)</span>
<span id="cb20-11"><a href="#cb20-11"></a><span class="fu">head</span>(dinosaur_species)</span>
<span id="cb20-12"><a href="#cb20-12"></a><span class="do">##            family         genus           genus_species             unique_name</span></span>
<span id="cb20-13"><a href="#cb20-13"></a><span class="do">## 1   Spinosauridae   Spinosaurus Spinosaurus aegyptiacus Spinosaurus aegyptiacus</span></span>
<span id="cb20-14"><a href="#cb20-14"></a><span class="do">## 2 Tyrannosauridae Tyrannosaurus       Tyrannosaurus rex       Tyrannosaurus rex</span></span>
<span id="cb20-15"><a href="#cb20-15"></a><span class="do">## 3    Diplodocidae          &lt;NA&gt;                    &lt;NA&gt;     Diplodocidae indet.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>When calculating taxonomic richness, palaeobiologists routinely discard occurrences not identified to their desired taxonomic resolution. For example, if studying species richness, occurrences identified to genus level or above will be discarded. The tax unique function reduces the number of occurrences being discarded by retaining fossils identified to coarser taxonomic resolutions but must represent a clade not already in the filtered dataset. As you can see in this example, Diplodocidae is retained as it evidently represents a different species from those other occurrences as it belongs to a different family.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="temporal-range" class="slide level2 smaller">
<h2>Temporal range</h2>
<p>Calculate and plot temporal range of taxa:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Grab tetrapod data</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>occdf <span class="ot">&lt;-</span> tetrapods</span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co"># Remove NAs</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>occdf <span class="ot">&lt;-</span> <span class="fu">subset</span>(occdf, <span class="sc">!</span><span class="fu">is.na</span>(order))</span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="co"># Temporal range</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>ex <span class="ot">&lt;-</span> <span class="fu">tax_range_time</span>(<span class="at">occdf =</span> occdf, <span class="at">name =</span> <span class="st">"order"</span>, <span class="at">plot =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-21-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Two functions exist in palaeoverse for calculating taxon ranges. The first, tax range time, can be used to calculate and plot the temporal range of taxa.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="geographic-range" class="slide level2 smaller">
<h2>Geographic range</h2>
<p>Four approaches to calculate geographic range of taxa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Grab internal data</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>occdf <span class="ot">&lt;-</span> tetrapods</span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co"># Remove NAs</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>occdf <span class="ot">&lt;-</span> <span class="fu">subset</span>(occdf, <span class="sc">!</span><span class="fu">is.na</span>(genus))</span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="co"># Convex hull</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">tax_range_space</span>(<span class="at">occdf =</span> occdf, <span class="at">name =</span> <span class="st">"genus"</span>, <span class="at">method =</span> <span class="st">"con"</span>)</span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co"># Latitudinal range</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>ex2 <span class="ot">&lt;-</span> <span class="fu">tax_range_space</span>(<span class="at">occdf =</span> occdf, <span class="at">name =</span> <span class="st">"genus"</span>, <span class="at">method =</span> <span class="st">"lat"</span>)</span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="co"># Great Circle Distance</span></span>
<span id="cb22-10"><a href="#cb22-10"></a>ex3 <span class="ot">&lt;-</span> <span class="fu">tax_range_space</span>(<span class="at">occdf =</span> occdf, <span class="at">name =</span> <span class="st">"genus"</span>, <span class="at">method =</span> <span class="st">"gcd"</span>)</span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="co"># Occupied grid cells</span></span>
<span id="cb22-12"><a href="#cb22-12"></a>ex4 <span class="ot">&lt;-</span> <span class="fu">tax_range_space</span>(<span class="at">occdf =</span> occdf, <span class="at">name =</span> <span class="st">"genus"</span>, <span class="at">method =</span> <span class="st">"occ"</span>, <span class="at">spacing =</span> <span class="dv">250</span>)</span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="co"># See first few rows</span></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="fu">head</span>(ex2)</span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="do">##                taxon taxon_id max_lat min_lat range_lat</span></span>
<span id="cb22-16"><a href="#cb22-16"></a><span class="do">## 1           Abajudon        1 -10.624 -16.524       5.9</span></span>
<span id="cb22-17"><a href="#cb22-17"></a><span class="do">## 2          Abdalodon        2 -31.925 -31.925       0.0</span></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="do">## 3        Abyssomedon        3  34.776  34.776       0.0</span></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="do">## 4   Acanthostomatops        4  51.000  51.000       0.0</span></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="do">## 5          Acerastea        5 -24.833 -24.833       0.0</span></span>
<span id="cb22-21"><a href="#cb22-21"></a><span class="do">## 6 Acerosodontosaurus        6 -24.000 -24.000       0.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>The second, tax range space, calculates the geographic range of taxa. In tax range space, four different approaches are available for calculating geographic ranges: convex hull, latitudinal range, maximum great circle distance and the number of occupied equal-area grid cells.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="temporal-pseudo-occurrences" class="slide level2 smaller">
<h2>Temporal pseudo-occurrences</h2>
<p>Convert range data to bin-level pseudo-occurrences:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Generate example df</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>taxdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb23-3"><a href="#cb23-3"></a>                    <span class="at">max_age =</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">60</span>, <span class="dv">30</span>),</span>
<span id="cb23-4"><a href="#cb23-4"></a>                    <span class="at">min_age =</span> <span class="fu">c</span>(<span class="dv">110</span>, <span class="dv">20</span>, <span class="dv">0</span>))</span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="co"># Generate pseudo-occurrences</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">tax_expand_time</span>(<span class="at">taxdf =</span> taxdf, <span class="at">max_ma =</span> <span class="st">"max_age"</span>, <span class="at">min_ma =</span> <span class="st">"min_age"</span>)</span>
<span id="cb23-7"><a href="#cb23-7"></a><span class="co"># Increase output width</span></span>
<span id="cb23-8"><a href="#cb23-8"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">200</span>)</span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="co"># See first few rows</span></span>
<span id="cb23-10"><a href="#cb23-10"></a><span class="fu">head</span>(ex1)</span>
<span id="cb23-11"><a href="#cb23-11"></a><span class="do">##   name max_age min_age   ext  orig interval_number     interval_name  rank max_ma  mid_ma min_ma duration_myr  font  colour abbr</span></span>
<span id="cb23-12"><a href="#cb23-12"></a><span class="do">## 1    C      30       0 FALSE FALSE               1        Meghalayan stage 0.0042 0.00210 0.0000       0.0042 black #FDEDEC &lt;NA&gt;</span></span>
<span id="cb23-13"><a href="#cb23-13"></a><span class="do">## 2    C      30       0 FALSE FALSE               2     Northgrippian stage 0.0082 0.00620 0.0042       0.0040 black #FDECE4 &lt;NA&gt;</span></span>
<span id="cb23-14"><a href="#cb23-14"></a><span class="do">## 3    C      30       0 FALSE FALSE               3      Greenlandian stage 0.0117 0.00995 0.0082       0.0035 black #FEECDB &lt;NA&gt;</span></span>
<span id="cb23-15"><a href="#cb23-15"></a><span class="do">## 4    C      30       0 FALSE FALSE               4 Upper Pleistocene stage 0.1290 0.07035 0.0117       0.1173 black #FFF2D3 &lt;NA&gt;</span></span>
<span id="cb23-16"><a href="#cb23-16"></a><span class="do">## 5    C      30       0 FALSE FALSE               5         Chibanian stage 0.7740 0.45150 0.1290       0.6450 black #FFF2C7 &lt;NA&gt;</span></span>
<span id="cb23-17"><a href="#cb23-17"></a><span class="do">## 6    C      30       0 FALSE FALSE               6         Calabrian stage 1.8000 1.28700 0.7740       1.0260 black #FFF2BA &lt;NA&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>As complementary to the taxonomic range functions, two functions are provided for generating pseudo-occurrences from temporal and latitudinal range data. These pseudo-occurrences serve to fill in ghost ranges, in which a taxon is presumed to be present, but no record exists.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="latitudinal-pseudo-occurrences" class="slide level2 smaller">
<h2>Latitudinal pseudo-occurrences</h2>
<p>Convert range data to bin-level pseudo-occurrences:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Generate latitudinal bins</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>bins <span class="ot">&lt;-</span> <span class="fu">lat_bins</span>()</span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co"># Generate example df</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>taxdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb24-5"><a href="#cb24-5"></a>                    <span class="at">max_lat =</span> <span class="fu">c</span>(<span class="dv">60</span>, <span class="dv">20</span>, <span class="sc">-</span><span class="dv">10</span>),</span>
<span id="cb24-6"><a href="#cb24-6"></a>                    <span class="at">min_lat =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="sc">-</span><span class="dv">40</span>, <span class="sc">-</span><span class="dv">60</span>))</span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="co"># Generate pseudo-occurrences</span></span>
<span id="cb24-8"><a href="#cb24-8"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">tax_expand_lat</span>(<span class="at">taxdf =</span> taxdf, <span class="at">bins =</span> bins)</span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="co"># See first few rows</span></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="fu">head</span>(ex1)</span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="do">##   name max_lat min_lat bin max mid min</span></span>
<span id="cb24-12"><a href="#cb24-12"></a><span class="do">## 1    A      60      20   4  60  55  50</span></span>
<span id="cb24-13"><a href="#cb24-13"></a><span class="do">## 2    A      60      20   5  50  45  40</span></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="do">## 3    A      60      20   6  40  35  30</span></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="do">## 4    A      60      20   7  30  25  20</span></span>
<span id="cb24-16"><a href="#cb24-16"></a><span class="do">## 5    B      20     -40   8  20  15  10</span></span>
<span id="cb24-17"><a href="#cb24-17"></a><span class="do">## 6    B      20     -40   9  10   5   0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="phylogeny-wrangling" class="slide level2 smaller">
<h2>Phylogeny wrangling</h2>
<p>Compare a list of taxonomic names to tip names in a user-provided phylogeny:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># Read in example tree of ceratopsians</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co"># from paleotree</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="fu">library</span>(paleotree)</span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="fu">data</span>(RaiaCopesRule)</span>
<span id="cb25-5"><a href="#cb25-5"></a><span class="co"># Set smaller margins for plotting</span></span>
<span id="cb25-6"><a href="#cb25-6"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))</span>
<span id="cb25-7"><a href="#cb25-7"></a><span class="co"># Plot tree</span></span>
<span id="cb25-8"><a href="#cb25-8"></a><span class="fu">plot</span>(ceratopsianTreeRaia)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-25-1.png" style="width:100.0%"></p>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Specify list of names</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>dinosaurs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Nasutoceratops_titusi"</span>, </span>
<span id="cb26-3"><a href="#cb26-3"></a>               <span class="st">"Diabloceratops_eatoni"</span>,</span>
<span id="cb26-4"><a href="#cb26-4"></a>               <span class="st">"Zuniceratops_christopheri"</span>,</span>
<span id="cb26-5"><a href="#cb26-5"></a>               <span class="st">"Psittacosaurus_major"</span>)</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co"># Table of taxon names in list, tree or both</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">phylo_check</span>(<span class="at">tree =</span> ceratopsianTreeRaia,</span>
<span id="cb26-9"><a href="#cb26-9"></a>                   <span class="at">list =</span> dinosaurs)</span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="co"># Get first few rows</span></span>
<span id="cb26-11"><a href="#cb26-11"></a><span class="fu">head</span>(ex1)</span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="do">##                   taxon_name present_in_tree present_in_list</span></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="do">## 8      Diabloceratops_eatoni            TRUE            TRUE</span></span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="do">## 33      Psittacosaurus_major            TRUE            TRUE</span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="do">## 38     Nasutoceratops_titusi           FALSE            TRUE</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="do">## 39 Zuniceratops_christopheri           FALSE            TRUE</span></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="do">## 1       Centrosaurus_apertus            TRUE           FALSE</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="do">## 2  Styracosaurus_albertensis            TRUE           FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<aside class="notes">
<p>We don‚Äôt currently have much functionality for working with phylogenies, but one function that several members of the team felt would be useful is the ability to compare a list of taxonomic names to tip names in a user-provided phylogeny. As you can, this is what the phylo check function does. Further functionality allows the user to also trim a phylogeny based on the input list.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="interval-linking" class="slide level2 smaller">
<h2>Interval linking</h2>
<p>Link and match interval names to the Geological Time Scale:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="do">## Link numeric age values</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="co"># Create exemplary df</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>occdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb27-4"><a href="#cb27-4"></a>                    <span class="at">early_interval =</span> <span class="fu">c</span>(<span class="st">"Maastrichtian"</span>,</span>
<span id="cb27-5"><a href="#cb27-5"></a>                                       <span class="st">"Campanian"</span>,</span>
<span id="cb27-6"><a href="#cb27-6"></a>                                       <span class="st">"Sinemurian"</span>),</span>
<span id="cb27-7"><a href="#cb27-7"></a>                    <span class="at">late_interval =</span> <span class="fu">c</span>(<span class="st">"Maastrichtian"</span>,</span>
<span id="cb27-8"><a href="#cb27-8"></a>                                      <span class="st">"Campanian"</span>,</span>
<span id="cb27-9"><a href="#cb27-9"></a>                                      <span class="st">"Bartonian"</span>))</span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="co"># Assign stages and numerical ages</span></span>
<span id="cb27-11"><a href="#cb27-11"></a>occdf <span class="ot">&lt;-</span> <span class="fu">look_up</span>(occdf)</span>
<span id="cb27-12"><a href="#cb27-12"></a></span>
<span id="cb27-13"><a href="#cb27-13"></a><span class="do">## Use exemplary int_key</span></span>
<span id="cb27-14"><a href="#cb27-14"></a><span class="co"># Get internal reef data</span></span>
<span id="cb27-15"><a href="#cb27-15"></a>occdf <span class="ot">&lt;-</span> reefs</span>
<span id="cb27-16"><a href="#cb27-16"></a><span class="co"># Get internal interval key</span></span>
<span id="cb27-17"><a href="#cb27-17"></a>int_key <span class="ot">&lt;-</span> interval_key</span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="co"># Assign stages and numerical ages</span></span>
<span id="cb27-19"><a href="#cb27-19"></a>occdf <span class="ot">&lt;-</span> <span class="fu">look_up</span>(occdf,</span>
<span id="cb27-20"><a href="#cb27-20"></a>                <span class="at">early_interval =</span> <span class="st">"interval"</span>,</span>
<span id="cb27-21"><a href="#cb27-21"></a>                <span class="at">late_interval =</span> <span class="st">"interval"</span>,</span>
<span id="cb27-22"><a href="#cb27-22"></a>                <span class="at">int_key =</span> int_key)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>A common difficultly faced by palaeobiologists is that temporal information associated with fossil occurrences is often asynchronous, and not directly comparable. Temporal data might be provided as either character-based interval names or numeric ages, and might conform to different timescales. The look up function is provided to help assign a common timescale. The function can be used to generate numeric ages from GTS interval names or an interval key can be provided by the user to link interval names to the Geological Time Scale. This interval key consist of three columns with the first containing the interval name followed by the early and late international stage the interval name correlates with. Interval key is provided an example dataset in palaeoverse.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="plotting" class="slide level2 smaller">
<h2>Plotting</h2>
<p>Add Geological Time Scale to plots:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># Plot data</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="dv">541</span><span class="sc">:</span><span class="dv">0</span>,</span>
<span id="cb28-3"><a href="#cb28-3"></a>     <span class="at">xlab =</span> <span class="st">"Time (Ma)"</span>, <span class="at">ylab =</span> <span class="st">"User-variable"</span>,</span>
<span id="cb28-4"><a href="#cb28-4"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">541</span>, <span class="dv">0</span>), <span class="at">xaxt =</span> <span class="st">"n"</span>, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">lwd =</span> <span class="dv">5</span>)</span>
<span id="cb28-5"><a href="#cb28-5"></a></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="co"># Add Geological Time Scale</span></span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="fu">axis_geo</span>(<span class="at">side =</span> <span class="dv">1</span>, <span class="at">intervals =</span> <span class="st">"periods"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="palaeoverse_demo_files/figure-revealjs/unnamed-chunk-28-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><aside class="notes">
<p>A common request from our survey participants was the ability to add the Geological Time Scale to a base R plot. The axis geo function in palaeoverse can be used to do just that.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="wrapper" class="slide level2 smaller">
<h2>Wrapper</h2>
<p>Run functions over groups of data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Get tetrapod data</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>occdf <span class="ot">&lt;-</span> tetrapods</span>
<span id="cb29-3"><a href="#cb29-3"></a></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="co"># Count number of occurrences from each country</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>ex1 <span class="ot">&lt;-</span> <span class="fu">group_apply</span>(<span class="at">occdf =</span> occdf, <span class="at">group =</span> <span class="st">"cc"</span>, <span class="at">fun =</span> nrow)</span>
<span id="cb29-6"><a href="#cb29-6"></a></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="co"># Remove NA data</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>occdf <span class="ot">&lt;-</span> <span class="fu">subset</span>(occdf, <span class="sc">!</span><span class="fu">is.na</span>(genus))</span>
<span id="cb29-9"><a href="#cb29-9"></a></span>
<span id="cb29-10"><a href="#cb29-10"></a><span class="co"># Unique genera per collection with group_apply and input arguments</span></span>
<span id="cb29-11"><a href="#cb29-11"></a>ex2 <span class="ot">&lt;-</span> <span class="fu">group_apply</span>(<span class="at">occdf =</span> occdf,</span>
<span id="cb29-12"><a href="#cb29-12"></a>                   <span class="at">group =</span> <span class="fu">c</span>(<span class="st">"collection_no"</span>),</span>
<span id="cb29-13"><a href="#cb29-13"></a>                   <span class="at">fun =</span> tax_unique,</span>
<span id="cb29-14"><a href="#cb29-14"></a>                   <span class="at">genus =</span> <span class="st">"genus"</span>,</span>
<span id="cb29-15"><a href="#cb29-15"></a>                   <span class="at">family =</span> <span class="st">"family"</span>,</span>
<span id="cb29-16"><a href="#cb29-16"></a>                   <span class="at">order =</span> <span class="st">"order"</span>,</span>
<span id="cb29-17"><a href="#cb29-17"></a>                   <span class="at">class =</span> <span class="st">"class"</span>,</span>
<span id="cb29-18"><a href="#cb29-18"></a>                   <span class="at">resolution =</span> <span class="st">"genus"</span>)</span>
<span id="cb29-19"><a href="#cb29-19"></a></span>
<span id="cb29-20"><a href="#cb29-20"></a><span class="co"># Use multiple variables (number of occurrences per collection &amp; formation)</span></span>
<span id="cb29-21"><a href="#cb29-21"></a>ex3 <span class="ot">&lt;-</span> <span class="fu">group_apply</span>(<span class="at">occdf =</span> occdf,</span>
<span id="cb29-22"><a href="#cb29-22"></a>                   <span class="at">group =</span> <span class="fu">c</span>(<span class="st">"collection_no"</span>, <span class="st">"formation"</span>),</span>
<span id="cb29-23"><a href="#cb29-23"></a>                   <span class="at">fun =</span> nrow)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>As with most fields, we often want to analyse our data in groups. In palaeoverse, we provide the function group apply as a wrapper function to run functions over groups of data. For example, if we want to calculate the number of occurrences per country in this example, or use the function tax unique per collection in this example. The group apply function also allows the user to run function over multiple grouping variables, for example in the third example we calculate the number of occurrences per unique collection and geological formation combination.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="whats-next" class="title-slide slide level1 smaller center">
<h1>What‚Äôs next?</h1>
<p><em>Onwards and upwards</em> üèîÔ∏è<em>‚Ä¶</em></p>
<aside class="notes">
<p>So, that‚Äôs it on current functionality. I appreciate that was slapdash introduction to the package, but I thought it best to cover all the functions in the time I had rather than focus on a few. If you have any specific questions at the end I‚Äôd be happy to answer them and we also have quite thorough documentation for each of the functions. But for now, what‚Äôs next? Onwards and upwards‚Ä¶ we hope.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="whats-next-1" class="slide level2 smaller">
<h2>What‚Äôs next?</h2>
<p><img data-src="images/delorean.png" class="absolute" style="top: 50px; right: 50px; width: 450px; height: 450px; "></p>
<div class="fragment">
<ul>
<li>Palaeobiology CRAN Task View</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Shiny App</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Workshops</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Hackathon</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Funding</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Your involvement!</li>
</ul>
</div>
<aside class="notes">
<p>We have quite a lot of plans going forward! The team is currently in the process of putting together a Palaeobiology CRAN Task view and has started development on a Shiny App for non-R users. We also plan to host a workshop and hackathon next September at UCL, funding depdendent. Which is something we are also actively working on now, securing funds to continue our work on this project and support its growth. Finally, we hope your involvement is what‚Äôs next! If you have functions which you think would be useful for the broader palaeobiological community, please do consider submitting a pull request on the palaeoverse repository! We would also love to hear any feedback on the package you might have.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="thank-you-merci-gracias-danke-obrigado-grazie-ŒµœÖœáŒ±œÅŒπœÉœÑœé" class="slide level2 smaller">
<h2>Thank-you / Merci / Gracias / Danke / Obrigado / Grazie / ŒïœÖœáŒ±œÅŒπœÉœÑœé</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/logo.png" height="150"></p>
</figure>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Website</strong>: General information
<ul>
<li><a href="https://palaeoverse.org" class="uri">https://palaeoverse.org</a></li>
</ul></li>
<li><strong>Twitter</strong>: News and updates
<ul>
<li><a href="https://twitter.com/ThePalaeoverse">@ThePalaeoverse</a></li>
</ul></li>
<li><strong>Google Group</strong>: A community space
<ul>
<li><a href="https://groups.google.com/g/palaeoverse" class="uri">https://groups.google.com/g/palaeoverse</a></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>Point of contact</strong>: General contact
<ul>
<li><a href="mailto:LewisAlan.Jones@uvigo.es">LewisAlan.Jones@uvigo.es</a></li>
</ul></li>
<li><strong>Publication</strong>: Available now!
<ul>
<li><a href="https://doi.org/10.1111/2041-210X.14099" class="uri">https://doi.org/10.1111/2041-210X.14099</a></li>
</ul></li>
</ul>
</div>
</div>
<aside class="notes">
<p>All that is left to say is a big thank you from myself and the development team for listening. You can find general information about the palaeoverse R package on our website, and news and updates on the project on Twitter (providing Elon Musk doesn‚Äôt burn it to the ground). We have also established a Google Group to serve as a community space, which we welcome you all to join. This group is setup to act as a space to share ideas and resources, advertise opportunities, and generally network with colleagues. And a final bit of self promotion, our pre-print on palaeoverse is now available on EarthArXiv, if you wish to check it out! Thank you for listening.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><img src="/images/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://palaeoverse.org">palaeoverse: A community-driven R package</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="palaeoverse_demo_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="palaeoverse_demo_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="palaeoverse_demo_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>